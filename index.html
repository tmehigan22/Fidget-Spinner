<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Classic Fidget Spinner</title>

  <style>
    :root {
      --bg: #00A6FB;
      --body: #ECF6FB;
      --ring-dark: #0B0B0B;
      --ring-mid: #1E1E1E;
      --white: #FFFFFF;
      --shadow: 0 20px 48px rgba(0,0,0,.25);
    }

    html, body {
      height: 100%;
      margin: 0;
      background: var(--bg);
      touch-action: none;
      overscroll-behavior: none;
      user-select: none;
    }

    .wrap {
      height: 100%;
      display: grid;
      place-items: center;
    }

    .spinner {
      width: min(70vmin, 360px);
      aspect-ratio: 1;
      position: relative;
      transform: rotate(0rad);
      will-change: transform;
      filter: drop-shadow(var(--shadow));
    }

    .logo {
      position: absolute;
      inset: 0;
      display: grid;
      place-items: center;
      pointer-events: none;
    }

    .logo-circle {
      width: 26%;
      height: 26%;
      border-radius: 50%;
      background: var(--ring-dark);
      display: grid;
      place-items: center;
      overflow: hidden;
    }

    .logo-circle img {
      width: 70%;
      height: 70%;
      object-fit: contain;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div id="spinner" class="spinner">
      <!-- ONLY CHANGE: swap body silhouette to your provided SVG path -->
      <svg viewBox="0 0 14 14" width="100%" height="100%" aria-hidden="true">
        <!-- Body silhouette -->
        <path
          fill="var(--body)"
          d="m 2.6335217,12.427699 c -0.55872,-0.1705 -1.16178,-0.6754 -1.40364,-1.175 -0.43025995,-0.8888 -0.24254995,-2.0007997 0.44595,-2.6416997 0.50091,-0.4664 0.81061,-0.5871 1.69512,-0.6606 0.70186,-0.058 1.15563,-0.2367 1.47772,-0.581 0.60047,-0.6417 0.68987,-1.6179 0.21701,-2.3697 -0.75114,-1.1942 -0.20965,-2.839 1.09848,-3.3368 1.09577,-0.4169 2.34637,0.077 2.86421,1.1317 0.1606,0.327 0.18507,0.4563 0.18507,0.978 0,0.5721 -0.0136,0.6288 -0.28142,1.1691 -0.15905,0.3209 -0.30024,0.7163 -0.3247,0.9094 -0.0882,0.6963 0.29661,1.4653 0.92891,1.8563 0.27682,0.1711 0.40874,0.2031 1.0151403,0.2464 0.52467,0.037 0.78687,0.091 1.06064,0.2163 1.53532,0.7029 1.86709,2.6370997 0.64135,3.7391997 -0.48652,0.4374 -0.95931,0.6011 -1.6371,0.5668 -0.44854,-0.023 -0.60239,-0.063 -0.9575103,-0.2526 -0.41684,-0.2221 -0.76178,-0.5693 -0.96628,-0.9726 -0.13319,-0.2626 -0.66185,-0.7498 -0.93599,-0.8626 -0.90973,-0.3741 -1.84876,-0.054 -2.41717,0.8251 -0.57166,0.8837 -1.22696,1.2821 -2.09039,1.2711 -0.24662,0 -0.52355,-0.029 -0.6154,-0.057 z
             m 1.11953,-1.34 c 0.62624,-0.3818 0.64291,-1.3035997 0.0304,-1.6820997 -0.64085,-0.3961 -1.45116,0 -1.52874,0.7555997 -0.081,0.7842 0.81905,1.3407 1.49834,0.9265 z
             m 7.4978603,-0.017 c 0.81112,-0.5537 0.44842,-1.8125997 -0.52221,-1.8125997 -0.9465203,0 -1.3715203,1.1021997 -0.66989,1.7372997 0.2033,0.184 0.29358,0.2139 0.66448,0.2203 0.21548,0 0.37328,-0.04 0.52762,-0.145 z
             M 7.5100117,8.8899993 c 0.43936,-0.3146 0.57864,-0.8211 0.3506,-1.275 -0.35927,-0.715 -1.41076,-0.715 -1.77003,0 -0.21122,0.4205 -0.12604,0.8504 0.23533,1.1879 0.31657,0.2956 0.83915,0.3341 1.1841,0.087 z
             m 0,-4.2753 c 0.60609,-0.4339 0.60947,-1.2564 0.007,-1.659 -0.4757,-0.3178 -1.16717,-0.1316 -1.42625,0.3841 -0.21122,0.4204 -0.12604,0.8503 0.23533,1.1878 0.31657,0.2957 0.83915,0.3341 1.1841,0.087 z"
        />

        <!-- Bearings (same styling as before; positioned in this 14x14 coordinate space) -->
        <!-- Top bearing -->
        <g transform="translate(7 3)">
          <circle r="1.55" fill="var(--ring-dark)"></circle>
          <circle r="1.12" fill="var(--body)"></circle>
          <circle r="0.62" fill="var(--white)"></circle>
        </g>

        <!-- Left bearing -->
        <g transform="translate(3.5 10.3)">
          <circle r="1.55" fill="var(--ring-dark)"></circle>
          <circle r="1.12" fill="var(--body)"></circle>
          <circle r="0.62" fill="var(--white)"></circle>
        </g>

        <!-- Right bearing -->
        <g transform="translate(10.5 10.3)">
          <circle r="1.55" fill="var(--ring-dark)"></circle>
          <circle r="1.12" fill="var(--body)"></circle>
          <circle r="0.62" fill="var(--white)"></circle>
        </g>

        <!-- Center bearing -->
        <g transform="translate(7 7)">
          <circle r="2.2" fill="var(--ring-dark)"></circle>
        </g>
      </svg>

      <!-- Logo overlay (unchanged) -->
      <div class="logo">
        <div class="logo-circle">
          <img src="logo.png" alt="App logo" />
        </div>
      </div>
    </div>
  </div>

  <script>
    (() => {
      const spinner = document.getElementById("spinner");

      let angle = 0;
      let omega = 0;
      let dragging = false;

      const MAX_OMEGA = 32;
      const FRICTION = 1.6;
      const MIN_OMEGA = 0.05;

      let center = { x: 0, y: 0 };
      let lastAngle = 0;
      const samples = [];

      function updateCenter() {
        const r = spinner.getBoundingClientRect();
        center.x = r.left + r.width / 2;
        center.y = r.top + r.height / 2;
      }

      function pointerAngle(x, y) {
        return Math.atan2(y - center.y, x - center.x);
      }

      function normalize(d) {
        while (d > Math.PI) d -= Math.PI * 2;
        while (d < -Math.PI) d += Math.PI * 2;
        return d;
      }

      function setRotation(r) {
        angle = r;
        spinner.style.transform = `rotate(${angle}rad)`;
      }

      function estimateOmega() {
        if (samples.length < 2) return 0;
        const first = samples[0];
        const last = samples[samples.length - 1];
        const dt = (last.t - first.t) / 1000;
        if (dt <= 0) return 0;
        return (last.a - first.a) / dt;
      }

      spinner.addEventListener("pointerdown", e => {
        updateCenter();
        dragging = true;
        omega = 0;
        samples.length = 0;
        lastAngle = pointerAngle(e.clientX, e.clientY);
        samples.push({ t: performance.now(), a: lastAngle });
        spinner.setPointerCapture(e.pointerId);
      });

      spinner.addEventListener("pointermove", e => {
        if (!dragging) return;
        const a = pointerAngle(e.clientX, e.clientY);
        const d = normalize(a - lastAngle);
        setRotation(angle + d);
        lastAngle = a;
        samples.push({ t: performance.now(), a });
        if (samples.length > 8) samples.shift();
      });

      spinner.addEventListener("pointerup", () => {
        dragging = false;
        omega = Math.max(-MAX_OMEGA, Math.min(MAX_OMEGA, estimateOmega()));
        if (Math.abs(omega) < 0.6) omega = 0;
      });

      let lastFrame = performance.now();
      function animate(now) {
        const dt = (now - lastFrame) / 1000;
        lastFrame = now;

        if (!dragging && Math.abs(omega) > 0) {
          omega *= Math.exp(-FRICTION * dt);
          if (Math.abs(omega) < MIN_OMEGA) omega = 0;
          else setRotation(angle + omega * dt);
        }
        requestAnimationFrame(animate);
      }

      updateCenter();
      window.addEventListener("resize", updateCenter);
      requestAnimationFrame(animate);
    })();
  </script>
</body>
</html>
